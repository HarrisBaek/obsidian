---
title: 1.  JWT 소개, 프롲게트 생성
date: 2022-11-04
type:  blog
author: harris baek
email: baekjh09@naver.com
---
tags: #spring , #backend , #security, #jpa , #jwt


https://onejunu.tistory.com/137

(JWT를 통한 인증)

### JWT란?
Json Web Tokens의 약자로 RFC 7519 웹 표준으로 지정이 되어있고 JSON개체를 사용해서 토큰 자체에 정보들을 저장하고 있는 Web Token이라고 정의


###### 1. Header
	- signature를 해싱하기 위한 알고리즘 정보가 담겨져 있다.
###### 2. PayLoad
	- 서버와 클라이언트가 주고 받는, 시스템에서 실제로 사용될 정보에 댛나 내용들이 담겨져 있다.
###### 3. Signature
	- 토큰의 유효성 검증을 위한 문자열. 이 문자열을 통해서 유효성을 서버에서 검증 가능


### JWT장점
- 중앙의 인증서버, 데이터 스토어에 대한 의존성 없음, 시스템 수평 확장 유리
- Base64 URL Safe Encoding > URL, Cookie, Header 모두 사용 가능

### JWT 단점
- Payload의 정보가 많아지면 네트워크 사용량 증가, 데이터 설계 고려 필요
- 토큰이 클라이언트에 저장, 서버에서 클라이언트의 토큰을 조작할 수 없음



https://github.com/SilverNine/spring-boot-jwt-tutorial-kotlin/blob/main/src/main/kotlin/me/silvernine/tutorial/jwt/TokenProvider.kt

https://onejunu.tistory.com/137


1. SecurityConfig -> filterchain() 정리
2. beforefilter등록 (OncePerRequestFileter) -> 이게 이제 계속 올때마다 인가 관련된거
3. exceptionhandling(AuthenticationEntryPoint, AccessDeniedHandler )
4. 이게 끝

4. login Controller 에서 AbstractAuthenticationToken을 상속 받은 해로 AuthenticationManager를 통해서 Authentication을 받아온다. Authentication이 내부적으로 맞는지 틀린지 확인하는거 같은 느낌임.  
인증 실패하면 Handler에서 콜되서 바로 return 되고, 성공하면 그냥 토큰 발행하는거 같은 느낌임
6. 이놈을 바탕으로 userName을 가져오고