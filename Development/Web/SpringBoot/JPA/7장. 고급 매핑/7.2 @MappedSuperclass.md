---
title: 7.2 @MappedSuperclass
date: 2022-10-23
type:  blog
author: harris baek
email: baekjh09@naver.com
---
tags: #spring , #backend , #db, #jpa


지금까지 상속 관계 매핑은 부모 클래스와 자식 클래스를 모두 데이터베이스 테이블과 매핑했다.

*부모 클래스는 테이블과 매핑하지 않고 부모 클래스를 상속받는 자식 클래스에게 매핑 정보만 제공*하고 싶으면 `@MappedSuperclass` 를 사용하면 된다. 즉 부모 클래스와 자식 클래스는 어떠한 연관관계도 없고, 단지 자식 클래스들의 공통적인 속성만 따로 뽑아내서 만들어내는 클래스 이다. (엔티티가 아님)

![](https://user-images.githubusercontent.com/51476083/122500681-30290600-d02e-11eb-9f98-78b433605815.png)

```java
@MappedSuperclass
public abstract class BaseEntity {
    @Id @GeneratedValue
    private Long id;
    private String name;
}

@Entity
public class Member extends BaseEntity {
    // ID 상속
    // NAME 상속
    private String email;
}

@Entity
public class Seller extends BaseEntity {
    // ID 상속
    // NAME 상속
    private String shopName;
}
```

BaseEntity에는 객체들이 주로 사용하는 공통 매핑 정보를 정의했다. 그리고 자식 엔티티들은 상속을 통해 BaseEntity의 매핑 정보를 물려받았다. 여기서는 BaseEntity는 테이블과 매핑할 필요가 없고 자식 엔티티에게 공통으로 사용되는 매핑 정보만 제공하면 된다.


```ad-info
title: @AttributOverrides / @AttributeOverrides

아래 코드와 깉이 부모로부터 물려받은 매핑 정보를 재정의 가능하다.
```
```java

//하나의 매핍정보 정의
@Entity
@AttributeOverride(name="id", column= @Column(name="MEMBER_ID"))
public class Member extends BaseEntity {...}

-----------------------------------------------------

//둘 이상의 매핑정보를 재정의 시
@ENtity
@AttributeOverrides({
  @AttributeOverride(name="id", column= @Column(name="MEMBER_ID")),
  @AttributeOverride(name="name", column= @Column(name="MEMBER_NAME"))
})
public class Member extends BaseEntity {...}

```


```ad-info
title: @MappedSuperclass 특징

1. 테이블과 매핑되지 않고 자식 클래스에 엔티티의 매핑 정보를 상속하기 위해 사용
2. @MappedSuperclass로 지정한 클래스는 엔티티가 아니므로 em.find()나 JPQL에서 사용할 수 없다.
3. 이 클래스를 직접 생성해서 사용할 일은 거의 없으므로 추상 클래스로 만드는 것을 권장한다
```

