

- 컴포넌트의 상태값들을 저장하는 훅으로 여기에 저장된 값이 변경되면 새로 *컴포넌트들을 업데이트* 한다.
- 초기값에 무거운 작업을 넣으면 컴포넌트 업데이트 될때마다 실행되므로 *Callback형태로 초기값을 넣으면* 한번만 업데이트 된다.


```ad-note
*const [time, setTime] =useState(Object);* 
*setTime() ,setTieme((prevState)=>{})* //2가지로 set가능
```

```typescript

//기본 클릭시 올라감
function App() {
	const [time, setTime] = useState(0);
	const handleClick = () => {
		let newTime;
		if (time >= 12) {
			newTime = 1;
		} else {
			newTime = time + 1;
		}
		setTime(newTime);
	};
	return (
		<div className="App flex">
			<div> 현재 시각 :{time}</div>
			<button onClick={handleClick}>Update</button>
		</div>
	);
}
```



```typescript

//set 타입이 2가지 이다.
function App() {
	const [names, setNames] = useState(["harris", "kate"]);
	const [input, setInput] = useState(""); 

	const handleInput = (e:React.ChangeEvent<HTMLInputElement>) => {
		setInput(e.target.value);
	};

	const handleClick = () =>{
		//.set함수에 prevState 인자로 받을수 있음
		setNames((prevState)=>{
			return [input,...prevState]
		})
	} 

return (
	<div className="App">
		<input className="border" type="text" onChange={handleInput}></input>
		<button className="border" onClick={handleClick}>Upload</button>
		{names.map((name) => (
			<p>{name}</p>
		))}
	</div>
);
}
```



```typescript

const heavyWork = () =>{
	console.log("heavy work");
	return ["name1","name2"];
}

//set 타입이 2가지 이다.
function App() {
	//무거운 작업이 글자 쓸때마다 계속 실행된다.
	//const [names, setNames] = useState(heavyWork());
	
	//콜백형태로 값을 넣으면 계속 실행되지 않는다.
	const [names, setNames] = useState(() =>{
		//초기에 1번만 실행됨
		return heavyWork();
	});
	const [input, setInput] = useState(""); 

	const handleInput = (e:React.ChangeEvent<HTMLInputElement>) => {
		setInput(e.target.value);
	};

	const handleClick = () =>{
		//.set함수에 prevState 인자로 받을수 있음
		setNames((prevState)=>{
			return [input,...prevState]
		})
	} 

return (
	<div className="App">
		<input className="border" type="text" onChange={handleInput}></input>
		<button className="border" onClick={handleClick}>Upload</button>
		{names.map((name) => (
			<p>{name}</p>
		))}
	</div>
);
}
```